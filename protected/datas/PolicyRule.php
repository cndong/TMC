<?php
class PolicyRule {
    public static $rule =array(
                'MU' => array(
                        'F' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 0
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'P' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'U' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 0
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'J' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 0
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'C' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'D' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'I' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Y' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'B' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'M' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'E' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'H' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'K' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'after' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'L' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'after' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'N' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'after' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'R' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'after' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'S' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'V' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'T' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Z' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 80
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Q' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 80
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                ),
                'ZH' => array(
                        'F' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 0
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'A' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 0
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'C' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 0
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'G' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'Y' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'B' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'M' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'M1' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'U' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'H' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Q' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Q1' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'V' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'V1' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'W' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'S' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'E' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                ),
                'HU' => array(
                        'F' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'A' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Z' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'C' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'Y' => array(
                                '2016-07-10' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                                '2016-09-10' => array(
                                        'before' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'other' => ''
                                ),
                                '2016-09-28' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                                '2016-10-09' => array(
                                        'before' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'other' => ''
                                ),
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'B' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 40
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'H' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 40
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'K' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 40
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'L' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 40
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'M' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 40
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'M1' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 40
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Q' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 40
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Q1' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 40
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'X' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'U' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'E' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                ),
                'CZ' => array(
                        'F' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'P' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'J' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'C' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'D' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'I' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'after' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Y' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'B' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'M' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'H' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'U' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'after' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'A' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'after' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'L' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'after' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'E' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'V' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Z' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                ),
                'CA' => array(
                        'F' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'P' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'A' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'J' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'C' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'D' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Z' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'R' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 0, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'G' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'E' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Y' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'B' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'M' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'U' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'H' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Q' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'V' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'W' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'S' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                ),
                'SC' => array(
                        'F' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'A' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'W' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'R' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Y' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 0, 'cancel' => 5
                                        ),
                                        'after' => array(
                                            'change' => 5, 'cancel' => 10
                                        ),
                                        'other' => ''
                                ),
                        ),
                        'B' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'M' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'H' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'K' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'L' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'P' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Q' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'G' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 10, 'cancel' => 20
                                        ),
                                        'after' => array(
                                            'change' => 20, 'cancel' => 30
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'V' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Q' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                        'Z' => array(
                                '2017-01-01' => array(
                                        'before' => array(
                                            'change' => 30, 'cancel' => 50
                                        ),
                                        'after' => array(
                                            'change' => 50, 'cancel' => 100
                                        ),
                                        'other' => '不可签转'
                                ),
                        ),
                ),
        );

    static function getRuleText($apcode, $cam, $data){
        //MU/FM(东方航空/海航空)一家的
        self::$rule['FM'] = self::$rule['MU'];
        $log = "$apcode, $cam, $data";
        $text = '根据航司规则';
    
        if(isset(self::$rule[$apcode])){
            if(isset(self::$rule[$apcode][$cam])){
                $timeArray = self::$rule[$apcode][$cam];
                if(!$timeArray) Q::log($log, 'getRuleText.apcode.cam.empty');
                else if(count($timeArray) == 1) $text = self::rendRule($apcode, array_shift($timeArray));
                else{
                    $choose = false;
                    foreach($timeArray as $timeKey => $timeValue){
                        if(strtotime($data) < strtotime($timeKey)) {
                            $text =self::rendRule($apcode, $timeValue);
                            $choose = true;
                            break;
                        }
                    }
                    if(!$choose) Q::log($log, 'getRuleText.apcode.cam.timeRule.empty');
                }
            }else Q::log($log, 'getRuleText.apcode.cam.no');
        }else Q::log($log, 'getRuleText.apcode.no');
        return $text;
    }
    
    static function rendRule($apcode, $rule){
        //HU是4小时分界点; CA,SC:只分起飞前跟起飞后，没有多少小时规定; MU和ZH是2小时分界点
        if($apcode == 'HU') $hour = 4;
        else if($apcode == 'CA' || $apcode == 'SC') $hour = 0;
        else $hour = 2;
        $hour ? $text="起飞{$hour}小时内: ": $text="起飞前: ";
        $text .= '改期';
        !$rule['before']['change'] ? $text.='免费' : $text.="收取{$rule['before']['change'] }%手续费";
    
        $rule['before']['cancel'] != 100 ? $text .= ',退票' : $text .=",不得退票\n";
        if($rule['before']['cancel'] != 100) !$rule['before']['cancel'] ? $text.='免费' : $text.="收取{$rule['before']['cancel'] }%手续费\n";
    
        $hour ? $text.="起飞{$hour}小时外: ": $text.="起飞后: ";
        $text .= '改期';
        !$rule['after']['change'] ? $text.='免费' : $text.="收取{$rule['after']['change']}%手续费";
    
        $rule['after']['cancel'] != 100 ? $text .= ',退票' : $text .=",不得退票\n";
        if($rule['after']['cancel'] != 100) !$rule['after']['cancel'] ? $text.='免费' : $text.="收取{$rule['after']['cancel']}%手续费\n";
    
        $rule['other'] ? $text.="补充说明: {$rule['other']}" : '' ;
        return $text;
        //array_walk($array, create_function('$value', 'echo $value'));
    }
}